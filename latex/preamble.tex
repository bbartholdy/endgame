\usepackage{booktabs}
\usepackage{amsthm}
\makeatletter
\def\thm@space@setup{%
  \thm@preskip=8pt plus 2pt minus 4pt
  \thm@postskip=\thm@preskip
}
\makeatother

%% Chapter formatting

%Options: Sonny, Lenny, Glenn, Conny, Rejne, Bjarne, Bjornstrup
%\usepackage[Lenny]{fncychap}

\usepackage{titlesec, blindtext, color} % titlesec needs `pandoc --variable subparagraph` to work
\definecolor{gray75}{gray}{0.75}
\newcommand{\hsp}{\hspace{20pt}}
\titleformat{\chapter}[hang]{\Huge\bfseries}{\thechapter\hsp\textcolor{gray75}{|}\hsp}{0pt}{\Huge\bfseries}

% chapter and section names in header
\renewcommand{\chaptermark}[1]{\markboth{\MakeLowercase{\chaptername\ \thechapter\ -\ #1}}{}}
\renewcommand{\chaptermark}[1]{\markboth{\MakeLowercase{\chaptername\ \thechapter\ -\ #1}}{}}
\renewcommand{\sectionmark}[1]{\markright{\MakeLowercase{#1}}{} }

% fix header names for toc, lof, and lot to match chapter and section names
\usepackage{etoolbox}
\patchcmd{\tableofcontents}{\MakeUppercase\contentsname}{\MakeLowercase\contentsname}{}{} 
\patchcmd{\tableofcontents}{\MakeUppercase\contentsname}{\MakeLowercase\contentsname}{}{} % twice to remove on both sides of header
\patchcmd{\listoffigures}{\MakeUppercase\listfigurename}{\MakeLowercase\listfigurename}{}{}
\patchcmd{\listoffigures}{\MakeUppercase\listfigurename}{\MakeLowercase\listfigurename}{}{} % twice to remove on both sides of header
\patchcmd{\listoftables}{\MakeUppercase\listtablename}{\MakeLowercase\listtablename}{}{}
\patchcmd{\listoftables}{\MakeUppercase\listtablename}{\MakeLowercase\listtablename}{}{} % twice to remove on both sides of header



% modify captions for figures and tables
\usepackage[labelfont=bf,
    labelsep=endash,
    singlelinecheck=off,
    format=plain,
    margin=1.2cm,
    aboveskip=12pt,
    belowskip=12pt,
    font={footnotesize,stretch=1},
    justification=justified]{caption}

% make table font smaller
\BeforeBeginEnvironment{longtable}{\begin{center}\footnotesize}
\AfterEndEnvironment{longtable}{\end{center}}

\raggedbottom
\sloppy